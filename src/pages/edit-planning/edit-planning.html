<!--
  Generated template for the EditPlanningPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title *ngIf="editionMode">Edition Du Planning {{planningToEdit.name}}</ion-title>
    <ion-title *ngIf="!editionMode">Creation D'un Planning</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-grid>
    <ion-row>
      <ion-col col-12>
        <form>
          <ion-item style="margin-bottom: 15px;">
            <ion-label>Nom :</ion-label>
            <ion-input type="text" id="planningName" [(ngModel)]="planningToEdit.name" name="planningName"></ion-input>
          </ion-item>
          <ion-list>
            <div *ngFor="let meal of planningToEdit.meals; let index = index">
                <ion-item style="margin-top: 5px; font-size: 24px;">
                    {{meal.day}}                   
                </ion-item>
                  <ion-item>
                      <ion-label>Matin :</ion-label>
                      <ion-select [(ngModel)]="meal.breakfast" name="breakfast">
                          <ion-option *ngFor="let recipe of recipesList" [value]="recipe">{{recipe.name}}</ion-option>
                        </ion-select>
                  </ion-item>
                  <ion-item>
                      <ion-label>Midi :</ion-label>
                      <ion-select [(ngModel)]="meal.lunch" name="lunch">
                          <ion-option *ngFor="let recipe of recipesList" [value]="recipe">{{recipe.name}}</ion-option>
                        </ion-select>
                  </ion-item>
                  <ion-item>
                      <ion-label>Soir :</ion-label>
                      <ion-select [(ngModel)]="meal.dinner" name="dinner">
                          <ion-option *ngFor="let recipe of recipesList" [value]="recipe">{{recipe.name}}</ion-option>
                        </ion-select>
                  </ion-item>
              </div>
          </ion-list>
          <ion-col offset-2>
            <button padding ion-button full color="light" type="button" (click)="cancel()">Annuler</button>
            <button paddin ion-button full color="secondary" type="button" (click)="setShoppingList(planningToEdit)">faire les courses</button>                                            
            <button padding ion-button full type="button" (click)="register(planningToEdit)">Enregistrer</button>
          </ion-col>
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
